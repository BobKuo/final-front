import{P as z,c as h,h as S,Z as M,ad as P,ae as A,a7 as C,af as O,J as F,r as b,l as p,m as c,q as o,f,B as y,ag as N,F as w,A as $,z as V,a8 as E,u as _,ah as Q,x as R,ai as U,w as G,o as L,p as W,aj as J,Q as Z}from"./index-BCR7bm2b.js";import{Q as H,a as K}from"./QCarousel-PZ3F3jfa.js";import{g as q}from"./index-CH_iu5NA.js";import{S as X}from"./ScrollTrigger-C4gmGO9R.js";import{Q as Y}from"./QChip-D79lyQCn.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as ee,w as te}from"./work-Dl2ysSyD.js";import"./touch-BjYP5sR0.js";import"./selection-CCiSeN3H.js";import"./use-fullscreen-RYHb4K1x.js";const oe=z({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:l}){const v=h(()=>{const r=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(s=>e[s]===!0).map(s=>`q-btn-group--${s}`).join(" ");return`q-btn-group row no-wrap${r.length!==0?" "+r:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>S("div",{class:v.value},M(l.default))}}),ae=z({name:"QBtnToggle",props:{...P,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(l=>("label"in l||"icon"in l||"slot"in l)&&"value"in l)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:l,emit:v}){const r=h(()=>e.options.find(t=>t.value===e.modelValue)!==void 0),s=h(()=>({type:"hidden",name:e.name,value:e.modelValue})),B=O(s),d=h(()=>A(e)),i=h(()=>({rounded:e.rounded,dense:e.dense,...d.value})),u=h(()=>e.options.map((t,a)=>{const{attrs:n,value:j,slot:T,...g}=t;return{slot:T,props:{key:a,"aria-pressed":j===e.modelValue?"true":"false",...n,...g,...i.value,disable:e.disable===!0||g.disable===!0,color:j===e.modelValue?m(g,"toggleColor"):m(g,"color"),textColor:j===e.modelValue?m(g,"toggleTextColor"):m(g,"textColor"),noCaps:m(g,"noCaps")===!0,noWrap:m(g,"noWrap")===!0,size:m(g,"size"),padding:m(g,"padding"),ripple:m(g,"ripple"),stack:m(g,"stack")===!0,stretch:m(g,"stretch")===!0,onClick(D){k(j,t,D)}}}}));function k(t,a,n){e.readonly!==!0&&(e.modelValue===t?e.clearable===!0&&(v("update:modelValue",null,null),v("clear")):v("update:modelValue",t,a),v("click",n))}function m(t,a){return t[a]===void 0?e[a]:t[a]}function x(){const t=u.value.map(a=>S(C,a.props,a.slot!==void 0?l[a.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&r.value===!0&&B(t,"push"),F(l.default,t)}return()=>S(oe,{class:"q-btn-toggle",...d.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},x)}}),le={class:"project-image"},se=["src","alt"],ne={class:"row full-width items-center"},re={class:"col"},ie={class:"row justify-end q-gutter-xs"},ce={class:"col-3"},de={class:"row justify-end"},ue={class:"project-content"},me={class:"project-category"},ge={class:"project-title"},ve={class:"project-description"},pe=["src","alt"],fe={__name:"WorkCard",props:{project:{type:Object,required:!0,validator:e=>e&&typeof e=="object"&&"id"in e&&"title"in e&&"category"in e&&"description"in e&&"image"in e},isReverse:{type:Boolean,default:!1}},emits:["view-project"],setup(e){const l=b(!1),v=()=>{l.value=!0},r=()=>{l.value=!1},s=d=>{const u=d.currentTarget.querySelector(".project-content");q.to(u,{y:-10,duration:.3})},B=d=>{const u=d.currentTarget.querySelector(".project-content");q.to(u,{y:0,duration:.3})};return(d,i)=>(c(),p(w,null,[o("div",{class:R(["project-item bg-judy-1",{reverse:e.isReverse}]),onMouseenter:s,onMouseleave:B},[o("div",le,[f(Q,{class:"my-card",flat:"",bordered:""},{default:y(()=>[o("img",{src:e.project.image,alt:e.project.title,class:"main-image",onClick:v},null,8,se),f(N,{align:e.isReverse?"left":"right"},{default:y(()=>[o("div",ne,[o("div",re,[o("div",ie,[(c(!0),p(w,null,$(e.project.tags,(u,k)=>(c(),V(Y,{square:"",color:`judy-${2+k%5}`,"text-color":"white",icon:"tag",key:u},{default:y(()=>[E(_(u),1)]),_:2},1032,["color"]))),128))])]),o("div",ce,[o("div",de,[f(C,{flat:"",round:"",color:"red",icon:"favorite"}),f(C,{flat:"",round:"",color:"teal",icon:"bookmark"}),f(C,{flat:"",round:"",color:"primary",icon:"share"})])])])]),_:1},8,["align"])]),_:1})]),o("div",ue,[o("div",me,"－"+_(e.project.category),1),o("h3",ge,_(e.project.title),1),o("p",ve,_(e.project.description),1),o("button",{class:"project-link",onClick:i[0]||(i[0]=u=>d.$emit("view-project",e.project))},i[2]||(i[2]=[o("span",null,"放大看作品",-1),o("svg",{class:"arrow-icon",viewBox:"0 0 24 24"},[o("path",{d:"M5 12h14M12 5l7 7-7 7"})],-1)]))])],34),f(U,{modelValue:l.value,"onUpdate:modelValue":i[1]||(i[1]=u=>l.value=u),maximized:"","transition-show":"none","transition-hide":"none"},{default:y(()=>[f(Q,{class:"image-dialog-card bg-black"},{default:y(()=>[o("div",{class:"image-container",onClick:r},[o("img",{src:e.project.image,alt:e.project.title,class:"fullsize-image",onClick:r},null,8,pe)])]),_:1})]),_:1},8,["modelValue"])],64))}},he=I(fe,[["__scopeId","data-v-79cf298e"]]),ye={class:"projects-section"},_e={class:"container"},je={class:"q-pa-md"},Be={key:0,class:"loading-container"},ke={class:"absolute-bottom custom-caption"},be={class:"text-h2"},Ce={class:"text-subtitle1"},Ve={key:2,class:"row justify-center q-mt-md"},we={key:0,class:"row justify-center"},xe={class:"col-12"},Se={class:"section-title"},$e={key:0,class:"projects-grid col-12 col-md-10"},qe={key:1,class:"no-works-container"},Qe={class:"no-works-message"},We={__name:"WorkPage",setup(e){q.registerPlugin(X);const l=b([]),v=b([]),r=b(!0),s=b(""),B=h(()=>l.value.map(t=>({label:t.name,value:t._id}))),d=h(()=>l.value.find(t=>t._id===s.value)),i=h(()=>v.value.filter(t=>t.category===s.value)),u=t=>({id:t._id,title:t.name,category:d.value?.name||"未分類",description:t.content||"暫無描述",image:t.images?.[0]||"https://via.placeholder.com/600x400?text=No+Image",tags:t.tags||[]});G(s,(t,a)=>{t!==a&&t&&(console.log("切換到系列:",d.value?.name),console.log("該系列作品數量:",i.value.length))});const k=async()=>{try{r.value=!0;const t=await ee.get();l.value=t.data.series,l.value.length>0&&(s.value=l.value[0]._id)}catch(t){console.error("Error fetching series:",t)}finally{r.value=!1}},m=async()=>{try{r.value=!0;const t=await te.get();v.value=t.data.works}catch(t){console.error("Error fetching works:",t)}finally{r.value=!1}};L(async()=>{await k(),await m()});const x=t=>{console.log("View project:",t)};return(t,a)=>(c(),p("div",ye,[o("div",_e,[o("div",je,[r.value?(c(),p("div",Be,[f(J,{size:"50px",color:"primary"}),a[2]||(a[2]=o("p",{class:"q-mt-md"},"載入中...",-1))])):(c(),V(H,{key:1,modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=n=>s.value=n),"transition-prev":"slide-right","transition-next":"slide-left",animated:"","control-color":"primary",class:"rounded-borders"},{default:y(()=>[(c(!0),p(w,null,$(l.value,n=>(c(),V(K,{key:n._id,name:n._id,"img-src":n.cover},{default:y(()=>[o("div",ke,[o("div",be,_(n.name),1),o("div",Ce,_(n.description),1)])]),_:2},1032,["name","img-src"]))),128))]),_:1},8,["modelValue"])),!r.value&&l.value.length>0?(c(),p("div",Ve,[f(ae,{modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=n=>s.value=n),options:B.value,"toggle-color":"primary",color:"white","text-color":"primary",unelevated:""},null,8,["modelValue","options"])])):W("",!0)]),d.value?(c(),p("div",we,[o("div",xe,[o("h2",Se,_(d.value.name)+" - 作品集",1)]),i.value.length>0?(c(),p("div",$e,[(c(!0),p(w,null,$(i.value,(n,j)=>(c(),V(he,{key:n._id,project:u(n),"is-reverse":j%2===1,onViewProject:x},null,8,["project","is-reverse"]))),128))])):(c(),p("div",qe,[o("div",Qe,[f(Z,{name:"image",size:"4rem",color:"grey-5"}),a[3]||(a[3]=o("h3",null,"此系列暫無作品",-1)),a[4]||(a[4]=o("p",null,"請選擇其他系列查看作品",-1))])]))])):W("",!0)])]))}},Ee=I(We,[["__scopeId","data-v-69d65595"]]);export{Ee as default};
