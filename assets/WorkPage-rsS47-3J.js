import{P as z,c as h,h as S,Z as M,ac as T,ad as A,a6 as b,ae as O,J as F,r as k,l as f,m,q as a,f as p,B as _,af as E,ag as Q,u as B,x as N,ah as R,F as x,w as U,o as G,p as W,z as w,aa as L,A as $,Q as J}from"./index-DV7vQOr6.js";import{Q as Z,a as H}from"./QCarousel-Bkh5AQar.js";import{g as q}from"./Observer-DswtLiDr.js";import{S as K}from"./ScrollTrigger-ClVPCpEU.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as X}from"./series-3t7iXxkr.js";import{w as Y}from"./work-Dn1_q4Q5.js";import"./touch-BjYP5sR0.js";import"./selection-BrVNfX6O.js";import"./use-fullscreen-DAfv-6uw.js";const ee=z({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:l}){const g=h(()=>{const s=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(n=>e[n]===!0).map(n=>`q-btn-group--${n}`).join(" ");return`q-btn-group row no-wrap${s.length!==0?" "+s:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>S("div",{class:g.value},M(l.default))}}),te=z({name:"QBtnToggle",props:{...T,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(l=>("label"in l||"icon"in l||"slot"in l)&&"value"in l)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:l,emit:g}){const s=h(()=>e.options.find(t=>t.value===e.modelValue)!==void 0),n=h(()=>({type:"hidden",name:e.name,value:e.modelValue})),j=O(n),c=h(()=>A(e)),i=h(()=>({rounded:e.rounded,dense:e.dense,...c.value})),v=h(()=>e.options.map((t,o)=>{const{attrs:r,value:y,slot:P,...d}=t;return{slot:P,props:{key:o,"aria-pressed":y===e.modelValue?"true":"false",...r,...d,...i.value,disable:e.disable===!0||d.disable===!0,color:y===e.modelValue?u(d,"toggleColor"):u(d,"color"),textColor:y===e.modelValue?u(d,"toggleTextColor"):u(d,"textColor"),noCaps:u(d,"noCaps")===!0,noWrap:u(d,"noWrap")===!0,size:u(d,"size"),padding:u(d,"padding"),ripple:u(d,"ripple"),stack:u(d,"stack")===!0,stretch:u(d,"stretch")===!0,onClick(D){C(y,t,D)}}}}));function C(t,o,r){e.readonly!==!0&&(e.modelValue===t?e.clearable===!0&&(g("update:modelValue",null,null),g("clear")):g("update:modelValue",t,o),g("click",r))}function u(t,o){return t[o]===void 0?e[o]:t[o]}function V(){const t=v.value.map(o=>S(b,o.props,o.slot!==void 0?l[o.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&s.value===!0&&j(t,"push"),F(l.default,t)}return()=>S(ee,{class:"q-btn-toggle",...c.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},V)}}),oe={class:"project-image"},ae=["src","alt"],le={class:"project-content"},ne={class:"project-category"},re={class:"project-title"},se={class:"project-description"},ie=["src","alt"],ce={__name:"WorkCard",props:{project:{type:Object,required:!0,validator:e=>e&&typeof e=="object"&&"id"in e&&"title"in e&&"category"in e&&"description"in e&&"image"in e},isReverse:{type:Boolean,default:!1}},emits:["view-project"],setup(e){const l=k(!1),g=()=>{l.value=!0},s=()=>{l.value=!1},n=c=>{const v=c.currentTarget.querySelector(".project-content");q.to(v,{y:-10,duration:.3})},j=c=>{const v=c.currentTarget.querySelector(".project-content");q.to(v,{y:0,duration:.3})};return(c,i)=>(m(),f(x,null,[a("div",{class:N(["project-item",{reverse:e.isReverse}]),onMouseenter:n,onMouseleave:j},[a("div",oe,[p(Q,{class:"my-card",flat:"",bordered:""},{default:_(()=>[a("img",{src:e.project.image,alt:e.project.title,class:"main-image",onClick:g},null,8,ae),p(E,{align:e.isReverse?"left":"right"},{default:_(()=>[p(b,{flat:"",round:"",color:"red",icon:"favorite"}),p(b,{flat:"",round:"",color:"teal",icon:"bookmark"}),p(b,{flat:"",round:"",color:"primary",icon:"share"})]),_:1},8,["align"])]),_:1})]),a("div",le,[a("div",ne,"－"+B(e.project.category),1),a("h3",re,B(e.project.title),1),a("p",se,B(e.project.description),1),a("button",{class:"project-link",onClick:i[0]||(i[0]=v=>c.$emit("view-project",e.project))},i[2]||(i[2]=[a("span",null,"View Project",-1),a("svg",{class:"arrow-icon",viewBox:"0 0 24 24"},[a("path",{d:"M5 12h14M12 5l7 7-7 7"})],-1)]))])],34),p(R,{modelValue:l.value,"onUpdate:modelValue":i[1]||(i[1]=v=>l.value=v),maximized:"","transition-show":"none","transition-hide":"none"},{default:_(()=>[p(Q,{class:"image-dialog-card bg-black"},{default:_(()=>[a("div",{class:"image-container",onClick:s},[a("img",{src:e.project.image,alt:e.project.title,class:"fullsize-image",onClick:s},null,8,ie)])]),_:1})]),_:1},8,["modelValue"])],64))}},ue=I(ce,[["__scopeId","data-v-e0ba3306"]]),de={class:"projects-section"},me={class:"container"},ge={class:"q-pa-md"},ve={key:0,class:"loading-container"},pe={class:"absolute-bottom custom-caption"},fe={class:"text-h2"},he={class:"text-subtitle1"},ye={key:2,class:"row justify-center q-mt-md"},_e={key:0},Be={class:"section-title"},je={key:0,class:"projects-grid"},ke={key:1,class:"no-works-container"},be={class:"no-works-message"},Ce={__name:"WorkPage",setup(e){q.registerPlugin(K);const l=k([]),g=k([]),s=k(!0),n=k(""),j=h(()=>l.value.map(t=>({label:t.name,value:t._id}))),c=h(()=>l.value.find(t=>t._id===n.value)),i=h(()=>g.value.filter(t=>t.category===n.value)),v=t=>({id:t._id,title:t.name,category:c.value?.name||"作品",description:t.content||"暫無描述",image:t.images?.[0]||"https://via.placeholder.com/600x400?text=No+Image"});U(n,(t,o)=>{t!==o&&t&&(console.log("切換到系列:",c.value?.name),console.log("該系列作品數量:",i.value.length))});const C=async()=>{try{s.value=!0;const t=await X.get();l.value=t.data.series,l.value.length>0&&(n.value=l.value[0]._id)}catch(t){console.error("Error fetching series:",t)}finally{s.value=!1}},u=async()=>{try{s.value=!0;const t=await Y.get();g.value=t.data.works}catch(t){console.error("Error fetching works:",t)}finally{s.value=!1}};G(async()=>{await C(),await u()});const V=t=>{console.log("View project:",t)};return(t,o)=>(m(),f("div",de,[a("div",me,[a("div",ge,[s.value?(m(),f("div",ve,[p(L,{size:"50px",color:"primary"}),o[2]||(o[2]=a("p",{class:"q-mt-md"},"載入中...",-1))])):(m(),w(Z,{key:1,modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=r=>n.value=r),"transition-prev":"slide-right","transition-next":"slide-left",animated:"","control-color":"primary",class:"rounded-borders"},{default:_(()=>[(m(!0),f(x,null,$(l.value,r=>(m(),w(H,{key:r._id,name:r._id,"img-src":r.cover},{default:_(()=>[a("div",pe,[a("div",fe,B(r.name),1),a("div",he,B(r.description),1)])]),_:2},1032,["name","img-src"]))),128))]),_:1},8,["modelValue"])),!s.value&&l.value.length>0?(m(),f("div",ye,[p(te,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=r=>n.value=r),options:j.value,"toggle-color":"primary",color:"white","text-color":"primary",unelevated:""},null,8,["modelValue","options"])])):W("",!0)]),c.value?(m(),f("div",_e,[a("h2",Be,B(c.value.name)+" - 作品集",1),i.value.length>0?(m(),f("div",je,[(m(!0),f(x,null,$(i.value,(r,y)=>(m(),w(ue,{key:r._id,project:v(r),"is-reverse":y%2===1,onViewProject:V},null,8,["project","is-reverse"]))),128))])):(m(),f("div",ke,[a("div",be,[p(J,{name:"image",size:"4rem",color:"grey-5"}),o[3]||(o[3]=a("h3",null,"此系列暫無作品",-1)),o[4]||(o[4]=a("p",null,"請選擇其他系列查看作品",-1))])]))])):W("",!0)])]))}},Pe=I(Ce,[["__scopeId","data-v-534b3d9c"]]);export{Pe as default};
